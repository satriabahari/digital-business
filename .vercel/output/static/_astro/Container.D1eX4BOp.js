import{j as x}from"./jsx-runtime.CmXs-U30.js";import{c as h,r as o}from"./index.CEThVCg_.js";import{u as O}from"./menu.DNi8UsRi.js";import{c as S}from"./utils.BR_JCrAi.js";var A=typeof h=="object"&&h&&h.Object===Object&&h,w=typeof self=="object"&&self&&self.Object===Object&&self;A||w||Function("return this")();function G({threshold:e=0,root:c=null,rootMargin:a="0%",freezeOnceVisible:r=!1,initialIsIntersecting:f=!1,onChange:l}={}){var v;const[t,m]=o.useState(null),[s,d]=o.useState(()=>({isIntersecting:f,entry:void 0})),y=o.useRef();y.current=l;const b=((v=s.entry)==null?void 0:v.isIntersecting)&&r;o.useEffect(()=>{if(!t||!("IntersectionObserver"in window)||b)return;let i;const u=new IntersectionObserver(p=>{const R=Array.isArray(u.thresholds)?u.thresholds:[u.thresholds];p.forEach(g=>{const I=g.isIntersecting&&R.some(E=>g.intersectionRatio>=E);d({isIntersecting:I,entry:g}),y.current&&y.current(I,g),I&&r&&i&&(i(),i=void 0)})},{threshold:e,root:c,rootMargin:a});return u.observe(t),()=>{u.disconnect()}},[t,JSON.stringify(e),c,a,b,r]);const j=o.useRef(null);o.useEffect(()=>{var i;!t&&((i=s.entry)!=null&&i.target)&&!r&&!b&&j.current!==s.entry.target&&(j.current=s.entry.target,d({isIntersecting:f,entry:void 0}))},[t,s.entry,r,b,f]);const n=[m,!!s.isIntersecting,s.entry];return n.ref=n[0],n.isIntersecting=n[1],n.entry=n[2],n}const N=()=>{const{isIntersecting:e,ref:c}=G({threshold:.5});return{isIntersecting:e,ref:c}},J=({id:e,className:c,isScreen:a,children:r,...f})=>{const{isIntersecting:l,ref:v}=N(),{setIsActive:t,isActive:m}=O();return o.useEffect(()=>{l&&(console.log(m),t(e))},[l,e,t,m]),x.jsx("section",{ref:v,id:e,className:S(`relative mb-32 h-auto lg:scroll-mt-28 ${c}`,a&&"min-h-screen"),...f,children:r})};export{J as default};
